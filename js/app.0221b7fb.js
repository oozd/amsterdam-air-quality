(function(t){function e(e){for(var a,i,s=e[0],c=e[1],u=e[2],p=0,f=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/amsterdam-air-quality/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"3f4e":function(t,e,n){t.exports=n.p+"img/app-bar-logo.4c66d991.png"},5490:function(t,e,n){"use strict";n("a6b6")},a6b6:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"white"}},[a("v-img",{staticClass:"shrink mr-2 mb-2",attrs:{alt:"Logo",src:n("3f4e"),width:"80"}}),a("v-spacer"),a("v-toolbar-title",[t._v("Amsterdam")]),a("v-spacer"),a("v-switch",{attrs:{"hide-details":"true",label:"teal",color:"teal"},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" "+t._s(t.switchLabel)+" "),a("v-progress-circular",{staticClass:"ml-2",attrs:{indeterminate:t.switchState,size:"30",color:"teal"}})]},proxy:!0}]),model:{value:t.switchState,callback:function(e){t.switchState=e},expression:"switchState"}})],1),a("v-main",[a("Map",{attrs:{stations:t.stationFeeds,stationLocations:t.stationLocations}})],1)],1)},o=[],i=n("9ab4"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fill-height"},[n("gmap-map",{attrs:{id:"map",zoom:12,center:t.center}},t._l(t.stations,(function(e,a){return n("GmapMarker",{key:e.idx,attrs:{position:t.stationLocations[a],icon:t.iconGenerator(e.forecast.daily.pm25[2].avg)},on:{mouseover:function(n){t.showByIndex=e.idx},mouseout:function(e){t.showByIndex=null}}},[n("gmap-info-window",{attrs:{opened:t.showByIndex===e.idx}},[n("info",{attrs:{station:e}})],1)],1)})),1)],1)},c=[],u=n("a6f4"),l=n("bc3a"),p=n.n(l),f=["52.315195","4.786606","52.425873","5.057144"],d=[52.377956,4.89707],b="edd5ed0e29943baa4f713c19d773e17f7b9d2ad6";function v(t){return Object(i["a"])(this,void 0,Promise,(function(){var e,n,a,r;return Object(i["b"])(this,(function(o){switch(o.label){case 0:e=t.join(","),n=[],o.label=1;case 1:return o.trys.push([1,3,,4]),[4,p()({url:"https://api.waqi.info/map/bounds/?latlng="+e+"&token="+b,method:"GET"})];case 2:return a=o.sent(),r=a.data.data,r.forEach((function(t){n.push({lat:t.lat,lng:t.lon})})),[2,{stations:r,locations:n}];case 3:return o.sent(),console.log("error fetching station locations"),[3,4];case 4:return[2]}}))}))}function h(t){return Object(i["a"])(this,void 0,Promise,(function(){var e,n,a;return Object(i["b"])(this,(function(r){switch(r.label){case 0:e=[],r.label=1;case 1:return r.trys.push([1,3,,4]),t.forEach((function(t){e.push(p()({url:"https://api.waqi.info/feed/@"+t.uid+"/?token="+b,method:"GET"}))})),[4,Promise.all(e)];case 2:return n=r.sent(),[2,n.map((function(t){return t.data.data}))];case 3:return a=r.sent(),console.log("error fetching station feeds",a),[2,[]];case 4:return[2]}}))}))}function m(t){var e="red";switch(!0){case t<15:e="white";break;case t<30:e="green";break;case t<55:e="orange ";break;case t<110:e="yellow";break;default:}return{path:"M0 0 a 8 8 0 3 1 1 0",fillColor:e,fillOpacity:.6,strokeWeight:0,rotation:0,scale:2}}var y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{width:"270px"}},[n("v-list-item",[n("v-list-item-content",{staticClass:"font-weight-bold text-center"},[n("v-list-item-title",[t._v(" "+t._s(t.props.station.city.name)+" ")]),n("v-list-item-subtitle",[n("v-divider",{staticClass:"dark ma-2"}),t._v(" Average: "+t._s(t.props.station.forecast.daily.pm25[2].avg))],1),n("v-list-item-subtitle",[t._v("Min: "+t._s(t.props.station.forecast.daily.pm25[2].min))]),n("v-list-item-subtitle",[t._v("Max: "+t._s(t.props.station.forecast.daily.pm25[2].max))])],1)],1)],1)},w=[],g={name:"Info",props:{station:{type:Object,required:!0}},setup:function(t){return{props:t}}},O=g,j=n("2877"),_=n("6544"),x=n.n(_),k=n("b0af"),I=n("ce7e"),L=n("da13"),S=n("5d23"),V=Object(j["a"])(O,y,w,!1,null,null,null),M=V.exports;x()(V,{VCard:k["a"],VDivider:I["a"],VListItem:L["a"],VListItemContent:S["a"],VListItemSubtitle:S["b"],VListItemTitle:S["c"]});var P={name:"Map",components:{Info:M},props:{stations:{type:Array,required:!0},stationLocations:{type:Array,required:!0}},setup:function(t){var e=Object(u["c"])(0);return{center:{lat:d[0],lng:d[1]},props:t,showByIndex:e,iconGenerator:m}}},C=P,T=(n("5490"),Object(j["a"])(C,s,c,!1,null,null,null)),A=T.exports;a["default"].use(u["a"]);var q=a["default"].extend({name:"App",components:{Map:A},setup:function(){var t,e=this,n=Object(u["c"])([]),a=[],r=Object(u["c"])([]),o=Object(u["c"])(!1),s="Click to start/stop auto refresh";function c(){return Object(i["a"])(this,void 0,void 0,(function(){var e=this;return Object(i["b"])(this,(function(n){return!1===o.value?(clearInterval(t),[2]):(t=setInterval((function(){return Object(i["a"])(e,void 0,void 0,(function(){var t;return Object(i["b"])(this,(function(e){switch(e.label){case 0:return t=r,[4,h(a)];case 1:return t.value=e.sent(),[2]}}))}))}),1e4),[2])}))}))}return Object(u["b"])((function(){return Object(i["a"])(e,void 0,void 0,(function(){var t,e;return Object(i["b"])(this,(function(o){switch(o.label){case 0:return[4,v(f)];case 1:return t=o.sent(),n.value=t.locations,a=t.stations,e=r,[4,h(a)];case 2:return e.value=o.sent(),[2]}}))}))})),Object(u["d"])(o,c),{stationFeeds:r,stationLocations:n,switchLabel:s,switchState:o}}}),E=q,B=n("7496"),D=n("40dc"),G=n("adda"),$=n("f6c4"),z=n("490a"),F=n("2fa4"),J=n("b73d"),X=n("2a7f"),Y=Object(j["a"])(E,r,o,!1,null,null,null),H=Y.exports;x()(Y,{VApp:B["a"],VAppBar:D["a"],VImg:G["a"],VMain:$["a"],VProgressCircular:z["a"],VSpacer:F["a"],VSwitch:J["a"],VToolbarTitle:X["a"]});var Q=n("f309");a["default"].use(Q["a"]);var W=new Q["a"]({}),K=n("755e");a["default"].config.productionTip=!1,a["default"].use(K,{load:{key:"AIzaSyDGnDHV2DTXQDoIYqLuDBLtstLu250bXYo",libraries:"places"}}),new a["default"]({vuetify:W,render:function(t){return t(H)}}).$mount("#app")}});
//# sourceMappingURL=app.0221b7fb.js.map